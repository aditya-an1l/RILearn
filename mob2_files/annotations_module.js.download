(function(g){var window=this;'use strict';var X0=function(V){V.publish("cardstatechange",V.mL()&&V.Kd()?1:0)},zZ=function(V,t){var x=g.jj(t),u=x?t:arguments;
for(x=x?0:1;x<u.length;x++){if(V==null)return;V=V[u[x]]}return V},PFF=function(V){var t=g.mg(V);
V=g.ao(V);return new g.sT(t.x,t.y,V.width,V.height)},KIE=function(V,t,x){var u=u===void 0?{}:u;
var Z;return Z=g.mD(V,t,function(){g.YD(Z);x.apply(V,arguments)},u)},YR=function(V){V=g.Dz(V);
delete Bm[V];g.YE(Bm)&&mZ&&mZ.stop()},RaE=function(){mZ||(mZ=new g.qK(function(){qL$()},20));
var V=mZ;V.isActive()||V.start()},qL$=function(){var V=g.JT();
g.IG(Bm,function(t){f3$(t,V)});
g.YE(Bm)||RaE()},Q4=function(V,t,x,u){g.S0.call(this);
if(!Array.isArray(V)||!Array.isArray(t))throw Error("Start and end parameters must be arrays");if(V.length!=t.length)throw Error("Start and end points must be the same length");this.S=V;this.L=t;this.duration=x;this.G=u;this.coords=[];this.progress=this.B=0;this.W=null},f3$=function(V,t){t<V.startTime&&(V.endTime=t+V.endTime-V.startTime,V.startTime=t);
V.progress=(t-V.startTime)/(V.endTime-V.startTime);V.progress>1&&(V.progress=1);V.B=1E3/(t-V.W);V.W=t;$P7(V,V.progress);V.progress==1?(V.J=0,YR(V),V.onFinish(),V.YH()):V.isPlaying()&&V.yB()},$P7=function(V,t){typeof V.G==="function"&&(t=V.G(t));
V.coords=Array(V.S.length);for(var x=0;x<V.S.length;x++)V.coords[x]=(V.L[x]-V.S[x])*t+V.S[x]},bPE=function(V,t){g.cy.call(this,V);
this.coords=t.coords;this.x=t.coords[0];this.y=t.coords[1];this.z=t.coords[2];this.duration=t.duration;this.progress=t.progress;this.fps=t.B;this.state=t.J},a6=function(V,t,x,u,Z){Q4.call(this,t,x,u,Z);
this.element=V},EVY=function(V,t,x,u,Z){if(t.length!=2||x.length!=2)throw Error("Start and end points must be 2D");
a6.call(this,V,t,x,u,Z)},kmn=function(V){return Math.pow(V,3)},iPE=function(V){return 3*V*V-2*V*V*V},OPj=function(V){g.c.call(this);
this.S=V||window;this.J=[]},rA=function(V){return V.baseUrl||null},TZ=function(V,t){return g.Nr(g.QV(V,t),function(x){return!!x})},s07=function(V,t,x){function u(q1){var w=q1.hovercardButton;
if(!w)return null;w=w.subscribeButtonRenderer;if(!w)return null;var H=P(w.unsubscribedButtonText),C=P(w.subscribedButtonText);if(w.subscribed){var S=P(w.subscriberCountWithUnsubscribeText);var D=P(w.subscriberCountText)}else S=P(w.subscriberCountText),D=P(w.subscriberCountWithSubscribeText);var ws=null;if(q1.signinEndpoint){ws=zZ(q1,"signinEndpoint","webNavigationEndpointData","url");if(!ws){var Ic,t_;ws=(t_=g.l((Ic=w.signInEndpoint)==null?void 0:Ic.commandMetadata,g.SZ))==null?void 0:t_.url}if(!ws)return null}return H&&
(C||ws)?{subscribed:w.subscribed,subscribeText:H,subscribeCount:S,unsubscribeText:C,unsubscribeCount:D,enabled:w.enabled,signinUrl:ws,classic:q1.useClassicSubscribeButton}:null}
function Z(q1){if(q1){var w=[],H=q1.videoId;H&&w.push("v="+H);(H=q1.playlistId)&&w.push("list="+H);(q1=q1.startTimeSeconds)&&w.push("t="+q1);return"/watch?"+w.join("&")}}
function P(q1){if(!q1)return null;var w=q1.simpleText;return w?w:q1.runs?g.QV(q1.runs,function(H){return H.text}).join(""):null}
t=t.endscreenElementRenderer;if(!t)return null;var K=t.style,R=t.endpoint||{},f=null,b=null,E=!1,k=null,O=null,N=null,p=null,I=!1,L=null,M=null,z=null,Y=null,r=null,n=null;if(K==="VIDEO")g.l(R,g.Uv)?f=g.l(R,g.Uv).url:(n=g.l(R,g.w8),f=Z(n)),b=!1,k=V,t.thumbnailOverlays?(E=t.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,O=P(E.text),E=E.style==="LIVE"):O=P(t.videoDuration);else if(K==="PLAYLIST")g.l(R,g.Uv)?f=g.l(R,g.Uv).url:(n=g.l(R,g.w8),f=Z(n)),b=!1,k=V,N=P(t.playlistLength);else if(K===
"CHANNEL"){if(I=zZ(R,"browseEndpoint","browseId"))p=I,f="/channel/"+p;b=!1;k="new";(I=!!t.isSubscribe)?L=u(t):M=P(t.subscribersText)}else K==="WEBSITE"?((z=zZ(R,"urlEndpoint","url"))&&(f=z),b=!0,k="new",z=t.icon.thumbnails[0].url):K==="CREATOR_MERCHANDISE"&&(t.productPrice&&(Y=P(t.productPrice)),t.additionalFeesText&&(r=P(t.additionalFeesText)),(b=zZ(R,"urlEndpoint","url"))&&(f=b),b=!0,k="new");V=zZ(t,"title","accessibility","accessibilityData","label");var U=t.endpoint?t.endpoint.clickTrackingParams:
null,d="";if(t.metadata){var uL=P(t.metadata);uL&&(d=uL)}return{id:"element-"+x,type:K,title:P(t.title),metadata:d,callToAction:P(t.callToAction),yY:t.image,iconUrl:z,left:Number(t.left),width:Number(t.width),top:Number(t.top),aspectRatio:Number(t.aspectRatio),startMs:Math.floor(Number(t.startMs)),endMs:Math.floor(Number(t.endMs)),videoDuration:O,y_:E,playlistLength:N,channelId:p,subscribeButton:L,subscribersText:M,isSubscribe:I,targetUrl:f||null,Z1C:b,sessionData:U?{itct:U}:null,zbk:k,HR:V?V:null,
isPlaceholder:t.isPlaceholder,impressionUrls:TZ(t.impressionUrls||[],rA),hy6:TZ(t.hovercardShowUrls||[],rA),clickUrls:TZ(R.loggingUrls||[],rA),visualElement:g.mn(t.trackingParams),productPrice:Y,additionalFeesText:r,watchEndpoint:n||null}},NPj=function(V,t){var x={startMs:Math.floor(Number(V.startMs)),
impressionUrls:TZ(V.impressionUrls||[],rA),elements:TZ(V.elements||[],function(u,Z){return s07(t,u,Z)})};
V.trackingParams&&(x.visualElement=g.mn(V.trackingParams));return x},pxt=function(V){g.m5.call(this,V);
this.W=this.endscreen=null;this.S={};this.B={};this.G=this.N=null;this.C=[];this.J=null;this.Ij=!0;this.L=0;V=V.K();this.X=g.re(V)||g.WK(V);this.events=new g.j6(this);g.y(this,this.events);this.events.Z(this.player,g.km("creatorendscreen"),this.onCueRangeEnter);this.events.Z(this.player,g.i4("creatorendscreen"),this.onCueRangeExit);this.events.Z(this.player,"resize",this.lq);this.events.Z(window,"focus",this.wrw);this.load();var t=g.uc("STYLE");(g.ec("HEAD")[0]||document.body).appendChild(t);this.addOnDisposeCallback(function(){g.RZ(t)});
t.sheet&&(t.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),t.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},AVY=function(V){return V.player.getVideoData().kD?"current":V.X?"new":"current"},Wm=function(V){return V.player.K().playerStyle==="creator-endscreen-editor"},SLn=function(V){var t=V.player.getVideoData(),x=t.videoId;
V.W&&V.W.abort();x={method:"POST",onFinish:function(Z){var P=V.W=null;Z.status===200&&(Z=Z.responseText,Z.substring(0,3)===")]}"&&(Z=Z.substring(3),P=JSON.parse(Z),P=NPj(P,AVY(V))));o6(V,P)},
urlParams:{v:x},withCredentials:!0};V.X&&(x.urlParams.ptype="embedded");var u=t.HO;u&&(x.postParams={ad_tracking:u});if(t=g.hBh(t))if(t=g.rH(t),t=g.Yn(t))V.W=g.r5(t,x)},o6=function(V,t,x){x=x===void 0?!0:x;
V.player.CR("creatorendscreen");V.N&&(V.N.dispose(),V.N=null,V.G.dispose(),V.G=null);for(var u=g.G(Object.values(V.S)),Z=u.next();!Z.done;Z=u.next())Z.value.dispose();V.S={};V.B={};V.C.length>0&&(V.C.forEach(function(R){R.dispose()}),V.C.length=0);
V.J&&(g.NK(V.J,"ytp-ce-element-show"),V.J.setAttribute("aria-hidden","true"));V.L=0;if((V.endscreen=t)&&t.elements){x&&Gmn(V);x=[];u=new g.b4(t.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});x.push(u);V.player.K().S||(V.N=new g.e({Y:"div",V:"ytp-ce-shadow"}),g.aE(V.player,V.N.element,4),V.G=new g.$9(V.N,200));for(u=0;u<t.elements.length;++u){Z=t.elements[u];var P=I37(V,Z);if(P){V.S[Z.id]=P;V.B[Z.id]=Z;g.aE(V.player,P.element,4);var K=new g.b4(Z.startMs,Z.endMs,{id:"ytp-ce-element-"+
Z.id,namespace:"creatorendscreen"});x.push(K);vVj(V,P,Z)}else g.lf(new g.xe("buildEndscreenElement null",Z))}V.player.gL(x);V.lq()}},Gmn=function(V){var t=g.QK(),x=g.aw();
x&&t&&V.endscreen.visualElement&&g.RW(g.xW)(void 0,x,t,V.endscreen.visualElement)},I37=function(V,t){var x=null;
switch(t.type){case "VIDEO":V={Y:"div",vX:["ytp-ce-element","ytp-ce-video"],j:{tabindex:"0","aria-label":t.HR||"","aria-hidden":"true"},D:[{Y:"div",V:"ytp-ce-element-shadow"},{Y:"div",V:"ytp-ce-covering-image",j:nH(t)},{Y:"div",V:"ytp-ce-covering-shadow-top"},{Y:"a",V:"ytp-ce-covering-overlay",j:{href:cm(V,t.targetUrl),tabindex:"-1"},D:[{Y:"div",vX:["ytp-ce-video-title","ytp-webkit-ellipsis"],j:{dir:g.Fa(t.title||"")},mw:t.title},{Y:"div",V:t.y_?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
mw:t.videoDuration||void 0}]}]};x=new g.e(V);break;case "PLAYLIST":V={Y:"div",vX:["ytp-ce-element","ytp-ce-playlist"],j:{tabindex:"0","aria-label":t.HR||"","aria-hidden":"true"},D:[{Y:"div",V:"ytp-ce-element-shadow"},{Y:"div",V:"ytp-ce-covering-image",j:nH(t)},{Y:"div",V:"ytp-ce-covering-shadow-top"},{Y:"a",V:"ytp-ce-covering-overlay",j:{href:cm(V,t.targetUrl),tabindex:"-1"},D:[{Y:"div",vX:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],j:{dir:g.Fa(t.title||"")},mw:t.title},{Y:"div",V:"ytp-ce-playlist-count",
D:[{Y:"div",V:"ytp-ce-playlist-icon"},{Y:"div",V:"ytp-ce-playlist-count-text",mw:t.playlistLength||void 0}]}]}]};x=new g.e(V);break;case "CHANNEL":x={Y:"div",vX:["ytp-ce-element","ytp-ce-channel",t.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],j:{tabindex:"0","aria-label":t.HR||"","aria-hidden":"true"},D:[{Y:"div",V:"ytp-ce-element-shadow"},{Y:"div",V:"ytp-ce-expanding-overlay",D:[{Y:"div",V:"ytp-ce-expanding-overlay-hider"},{Y:"div",V:"ytp-ce-expanding-overlay-background"},{Y:"div",V:"ytp-ce-expanding-overlay-content",
D:[{Y:"div",V:"ytp-ce-expanding-overlay-body",D:[{Y:"div",V:"ytp-ce-expanding-overlay-body-padding",D:[{Y:"a",vX:["ytp-ce-channel-title","ytp-ce-link"],j:{href:cm(V,t.targetUrl),target:"_blank",tabindex:"-1",dir:g.Fa(t.title||"")},mw:t.title},t.subscribeButton?{Y:"div",V:"ytp-ce-subscribe-container",D:[{Y:"div",V:"ytp-ce-channel-subscribe"}]}:"",t.subscribersText?{Y:"div",V:"ytp-ce-channel-subscribers-text",mw:t.subscribersText}:"",t.metadata?{Y:"div",vX:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],mw:t.metadata}:""]}]}]}]},{Y:"div",V:"ytp-ce-expanding-image",j:nH(t)}]};x=new g.e(x);var u=g.Cu(document,"div","ytp-ce-channel-subscribe",x.element)[0];if(t.subscribeButton&&t.channelId){g.OU(u,"ytp-ce-subscribe-button");if(V.player.K().S){var Z=null;var P=t.sessionData.itct}else Z="endscreen",P=null;Z=new g.Ed(t.subscribeButton.subscribeText,t.subscribeButton.subscribeCount,t.subscribeButton.unsubscribeText,t.subscribeButton.unsubscribeCount,!!t.subscribeButton.enabled,!!t.subscribeButton.classic,
t.channelId,!!t.subscribeButton.subscribed,Z,P,V.player,!1);u.appendChild(Z.element);V.C.push(Z)}break;case "WEBSITE":V={Y:"div",vX:["ytp-ce-element","ytp-ce-website"],j:{tabindex:"0","aria-label":t.HR||"","aria-hidden":"true"},D:[{Y:"div",V:"ytp-ce-element-shadow"},{Y:"div",V:"ytp-ce-expanding-overlay",D:[{Y:"div",V:"ytp-ce-expanding-overlay-hider"},{Y:"div",V:"ytp-ce-expanding-overlay-background"},{Y:"div",V:"ytp-ce-expanding-overlay-content",D:[{Y:"div",V:"ytp-ce-expanding-overlay-body",D:[{Y:"div",
V:"ytp-ce-expanding-overlay-body-padding",D:[{Y:"div",V:"ytp-ce-website-title",j:{dir:g.Fa(t.title||"")},mw:t.title},{Y:"div",V:"ytp-ce-website-metadata",mw:t.metadata},{Y:"a",vX:["ytp-ce-website-goto","ytp-ce-link"],j:{href:cm(V,t.targetUrl),target:"_blank",tabindex:"-1"},mw:t.callToAction}]}]}]}]},{Y:"div",V:"ytp-ce-expanding-image",j:nH(t)},{Y:"div",V:"ytp-ce-expanding-icon",j:LIc(t.iconUrl)}]};x=new g.e(V);break;case "CREATOR_MERCHANDISE":x="",t.productPrice&&(x={Y:"div",V:"ytp-ce-merchandise-price-container",
D:[{Y:"div",V:"ytp-ce-merchandise-price",mw:t.productPrice}]},t.additionalFeesText&&x.D.push({Y:"div",V:"ytp-ce-merchandise-additional-fees",mw:t.additionalFeesText})),V={Y:"div",vX:["ytp-ce-element","ytp-ce-merchandise"],j:{tabindex:"0","aria-label":t.HR||"","aria-hidden":"true"},D:[{Y:"div",V:"ytp-ce-element-shadow"},{Y:"div",V:"ytp-ce-expanding-overlay",D:[{Y:"div",V:"ytp-ce-expanding-overlay-hider"},{Y:"div",V:"ytp-ce-expanding-overlay-background"},{Y:"div",V:"ytp-ce-expanding-overlay-content",
D:[{Y:"div",V:"ytp-ce-expanding-overlay-body",D:[{Y:"div",V:"ytp-ce-expanding-overlay-body-padding",D:[{Y:"div",V:"ytp-ce-merchandise-title",j:{dir:g.Fa(t.title||"")},mw:t.title},x,{Y:"div",V:"ytp-ce-merchandise-metadata",mw:t.metadata},{Y:"a",vX:["ytp-ce-merchandise-goto","ytp-ce-link"],j:{href:cm(V,t.targetUrl),target:"_blank",tabindex:"-1"},mw:t.callToAction}]}]}]}]},{Y:"div",V:"ytp-ce-expanding-image",j:nH(t)},{Y:"div",V:"ytp-ce-merchandise-invideo-cta-container",D:[{Y:"div",V:"ytp-ce-merchandise-invideo-cta",
mw:t.callToAction||void 0}]}]},x=new g.e(V)}t.isPlaceholder&&g.OU(x.element,"ytp-ce-placeholder");return x},nH=function(V){if(V.yY)var t=V.yY.thumbnails;
return LIc(t?t[t.length-1].url:null)},LIc=function(V){return V?{style:"background-image: url("+V+")"}:{}},vVj=function(V,t,x){function u(f){f&&(t.listen("blur",function(){f.style.display!="none"&&V.Ij&&f.focus()}),t.Z(f,"focus",P),t.Z(f,"blur",K))}
function Z(f){V.L+=f;V.L>0?(g.OU(t.element,"ytp-ce-force-expand"),y4(V,x.id,!0)):(g.NK(t.element,"ytp-ce-force-expand"),g.NK(t.element,"ytp-ce-element-hover"),y4(V,x.id,!1))}
function P(){Z(1)}
function K(){Z(-1)}
t.listen("mouseenter",function(){FIE(V,t,x)});
t.listen("mouseleave",function(){M5t(V,t,x)});
V.player.K().S||t.listen("click",function(){g.OU(t.element,"ytp-ce-element-hover")});
t.listen("click",function(f){gVF(V,x,f)});
t.listen("keypress",function(f){gVF(V,x,f)});
t.listen("focus",function(){FIE(V,t,x)});
t.listen("blur",function(){M5t(V,t,x)});
t.listen("touchstart",function(){FIE(V,t,x)});
var R=g.JI("ytp-ce-expanding-overlay-hider",t.element);R&&t.Z(R,"touchstart",function(f){f.stopPropagation();g.NK(t.element,"ytp-ce-element-hover");g.NK(t.element,"ytp-ce-force-expand")});
t.listen("keydown",function(f){V.Ij=f.keyCode===9&&!f.shiftKey});
u(g.JI("ytp-sb-subscribe",t.element));u(g.JI("ytp-sb-unsubscribe",t.element));t.listen("focus",P);t.listen("blur",K)},gVF=function(V,t,x){if(t.targetUrl&&(!x||x.type!=="keypress"||x.keyCode===13)){for(var u=x.target;u&&!g.i6(u,"ytp-ce-element");){g.i6(u,"subscribe-label")&&Xxr(V,t);
if(g.i6(u,"ytp-ce-channel-subscribe"))return;u=u.parentElement||null}if(!u||g.i6(u,"ytp-ce-element-hover")){x.preventDefault();x.stopPropagation();if(u=V.S[t.id])M5t(V,u,t),u.element.blur();if(x.ctrlKey||x.metaKey||t.zbk==="new")Xxr(V,t),V.player.sendVideoStatsEngageEvent(17,void 0),V.player.pauseVideo(),x=g.rH(cm(V,t.targetUrl)),x=g.Yn(x),g.w2(x,void 0,t.sessionData);else{var Z=g.J2(V.player.K())||V.player.getVideoData().kD,P=function(){var K=cm(V,t.targetUrl),R=t.sessionData,f=t.watchEndpoint,b=
g.i$(K);Z&&b&&(b.v||b.list)?V.player.vF(b.v,R,b.list,!1,void 0,f||void 0):g.hq(K,R)};
Xxr(V,t,function(){V.player.sendVideoStatsEngageEvent(17,P)})}}}},cm=function(V,t){V=V.player.K();
if(t){if(t.startsWith("//"))return V.protocol+":"+t;if(t.startsWith("/"))return g.Zx(V)+t}else return"";return t},FIE=function(V,t,x){g.i6(t.element,"ytp-ce-element-hover")||(x.type==="VIDEO"||x.type==="PLAYLIST"?g.OU(t.element,"ytp-ce-element-hover"):V.player.K().S?(new g.qK(function(){g.OU(t.element,"ytp-ce-element-hover")},200)).start():g.OU(t.element,"ytp-ce-element-hover"),ju(V,x.hy6),y4(V,x.id,!0))},M5t=function(V,t,x){g.NK(t.element,"ytp-ce-element-hover");
g.NK(t.element,"ytp-ce-force-expand");y4(V,x.id,!1)},y4=function(V,t,x){V.N&&(x?V.G.show():V.G.hide());
for(var u=g.G(Object.keys(V.S)),Z=u.next();!Z.done;Z=u.next())Z=Z.value,Z!==t&&g.Am(V.S[Z].element,"ytp-ce-element-shadow-show",x)},ju=function(V,t,x){function u(){P||(Z++,Z===t.length&&(K.stop(),x&&x()))}
if(!t||t.length===0||Wm(V))x&&x();else{t=za_(V,t);var Z=0,P=!1,K=new g.qK(function(){P=!0;x&&x()},1E3,V);
K.start();for(V=0;V<t.length;V++)g.Cg(t[V],u)}},Xxr=function(V,t,x){ju(V,t.clickUrls,x);
(V=g.aw())&&t.Z1C&&g.kW(V,t.visualElement)},za_=function(V,t){var x=V.player.getVideoData().clientPlaybackNonce;
V=V.player.getCurrentTime().toFixed(2);x={CPN:x,AD_CPN:x,MT:V};V=[];for(var u=0;u<t.length;u++)V.push(BPE(t[u],x));return V},BPE=function(V,t){return V.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(x){var u=unescape(x);
u=u.substring(1,u.length-1);return t[u]?escape(t[u]):x})},mPj=function(V){return typeof V==="string"?V:""},ly=function(V,t,x){for(var u in t)if(t[u]===V)return V;
return x},YLn=function(V,t,x,u){this.value=V;
this.target=t;this.showLinkIcon=x;this.J=u},Hm=function(V){return V.value?V.value:null},UX=function(V){if(!V)return null;
var t=g.rH(mPj(V.value));t=g.Yn(t);if(!t)return null;var x=ly(V.target,Q0E,"current");if(x==null)V=null;else{var u=V.show_link_icon;V=new YLn(t,x,u==="true"||u==="false"?u==="true":!0,V.pause_on_navigation!=null?V.pause_on_navigation:!0)}return V},a3$=function(V,t,x){this.type=V;
this.trigger=t;this.url=x},WIs=function(V){if(!V)return null;
var t=ly(V.type,rV$),x=ly(V.trigger,TPi);V=V.url;V=Array.isArray(V)&&V.length?V[0]:V;V=UX(V?V:null);return t?new a3$(t,x,V):null},oVj=function(V,t,x,u,Z){this.id=V;
this.type=t;this.style=x;this.data=Z;this.action=u||[]},nV7=function(V,t){return g.ei(V.action,t)},cV7=function(V,t){this.context=V;
this.J=t},yVr=function(V){return V.customMessage?D0("div","iv-card-message",V.customMessage):""},eu=function(V,t){V="background-image: url("+V+");";
var x=[];t&&x.push(t);return{Y:"div",V:"iv-card-image",j:{style:V},D:x}},j0z=function(V){if(!V.metaInfo||V.metaInfo.length===0)return"";
var t=[];V=g.G(V.metaInfo);for(var x=V.next();!x.done;x=V.next())t.push(D0("li","",x.value));return{Y:"ul",V:"iv-card-meta-info",D:t}},D0=function(V,t,x){t?typeof t==="string"?t={"class":t}:Array.isArray(t)&&(t={"class":t.join(" ")}):t={};
t.dir=g.Fa(x);return{Y:V,j:t,mw:x}},l3j=function(V){if(!V.customMessage)return"";
var t=["iv-card-action","iv-card-primary-link"],x={};V.iX&&(t.push("iv-card-action-icon"),x.style="background-image: url("+V.iX+");");x.dir=g.Fa(V.customMessage);var u=[{Y:"span",mw:V.customMessage}];V.showLinkIcon&&(u.push("\u00a0"),u.push({Y:"span",V:"iv-card-link-icon"}));return{Y:"div",vX:t,j:x,D:u}},dA=function(V,t,x,u){if(u){t=g.G(t);
for(var Z=t.next();!Z.done;Z=t.next())V.J(Z.value,u,x.id,x.sessionData,x.Wi.click,5)}},HPY=function(V,t){this.merchant=V;
this.price=t},UPU=function(V){var t;
(t=V)&&!(t=V.length>1?V.charAt(0)==="/"&&V.charAt(1)!=="/":V==="/")&&(t=V.replace(/^(https?:)?\/\//,"").split("/",1),t=!t||t.length<1||!t[0]?[]:t[0].toLowerCase().split(".").reverse(),t=t[0]==="com"&&t[1]==="youtube"||t[0]==="be"&&t[1]==="youtu");return t?V.indexOf("/redirect?")===-1:!1},DPE=function(V,t){return t?t:UPU(V)?"current":"new"},CH=function(V,t){g.c.call(this);
var x=this;this.element=V;this.context=t;this.QC=!1;this.xw=new Map;this.DS=new Map;this.context.U.addEventListener(g.km("annotations_module"),function(u){(u=x.xw.get(u))&&u.apply(x)});
this.context.U.addEventListener(g.i4("annotations_module"),function(u){(u=x.DS.get(u))&&u.apply(x)})},Jd=function(V,t,x,u,Z,P,K){V.context.J.listen(t,"click",function(R){V.C_(x,u,Z,P||[],K||0,R)});
V.context.J.listen(t,"touchstart",function(){V.QC=!1});
V.context.J.listen(t,"touchmove",function(){V.QC=!0})},eai=function(V){var t;
return((t=g.l(V,g.Uv))==null?0:t.url)?g.l(V,g.Uv).url:(V=g.l(V,g.w8))&&V.videoId?(t="/watch?v="+V.videoId,V.playlistId&&(t+="&list="+V.playlistId),V.index&&(t+="&index="+V.index),V.startTimeSeconds&&(t+="&t="+V.startTimeSeconds),t):null},hd=function(V,t,x){return{u8:(V.impressionLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
click:(x.loggingUrls||[]).map(function(u){return u.baseUrl||""}),
close:(t.dismissLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
Eo:(t.impressionLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
ex:(t.clickLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""})}},dPz=function(V,t,x){CH.call(this,t,x);
var u=this;this.U=V;this.eventId=null;this.w6=this.Es=this.Fc=this.N=this.isInitialized=!1;this.cards=[];this.gk=this.C=this.BX=this.G=this.dk=this.J=null;this.Ij=[];this.wk=this.L=this.Hr=this.Us=null;this.B=0;this.cX=new g.qK(function(){},x.Rj.J5?4E3:3E3);
g.y(this,this.cX);this.HX=new g.qK(function(){});
g.y(this,this.HX);this.zU=new cV7(x,function(Z,P,K,R,f,b){Jd(u,Z,P,K,R,f,b)});
this.X=new g.e({Y:"div",V:"iv-drawer",j:{id:"iv-drawer"},D:[{Y:"div",V:"iv-drawer-header",j:{"aria-role":"heading"},D:[{Y:"span",V:"iv-drawer-header-text"},{Y:"button",vX:["iv-drawer-close-button","ytp-button"],j:{"aria-label":"Hide cards",tabindex:"0"}}]},{Y:"div",V:"iv-drawer-content"}]});g.y(this,this.X);this.W=this.X.element;this.yC=new g.$9(this.X,330);g.y(this,this.yC);this.Tc=g.JI("iv-drawer-header-text",this.W);this.S=g.JI("iv-drawer-content",this.W);this.addCueRange(0,x.videoData.lengthSeconds*
1E3,"",function(){u.Fc&&wA(u,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(u.Fc=u.N)&&VB(u)});
this.L1=new g.j6(this);g.y(this,this.L1);this.U.addEventListener("videodatachange",this.HN.bind(this))},CFU=function(V,t){t=t.data;
t.autoOpenMs&&V.addCueRange(t.autoOpenMs,0x8000000000000,"",function(){wA(V,"YOUTUBE_DRAWER_AUTO_OPEN")});
t.autoCloseMs&&V.addCueRange(t.autoCloseMs,0x8000000000000,"",function(){VB(V)});
var x=t.headerText;g.$P(V.Tc,x);V.C&&V.C.setAttribute("title",x);t.eventId&&(V.eventId=t.eventId);V.Us=g.mn(t.trackingParams);V.L=g.mn(t.closeTrackingParams);V.Hr=g.mn(t.iconTrackingParams)},JV$=function(V,t){var x=t.cardId?t.cardId:"cr:"+V.B,u=V.U.K().experiments.MP("enable_error_corrections_infocard_web_client");
if(!t.content&&t.teaser.simpleCardTeaserRenderer&&u){var Z=t.teaser.simpleCardTeaserRenderer,P=t.icon?t.icon.infoCardIconRenderer:null;t={id:x,timestamp:V.B,type:"simple",teaserText:g.FX(Z.message),teaserDurationMs:Number(t.cueRanges[0].teaserDurationMs),startMs:Number(t.cueRanges[0].startCardActiveMs),autoOpen:!!t.autoOpen,sessionData:{},sponsored:!1,Wi:{},Cd:null,Hi:Z.trackingParams?g.mn(Z.trackingParams):null,Hr:P&&P.trackingParams?g.mn(P.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
iX:null,title:"",customMessage:"",url:null,onClickCommand:Z.onTapCommand||null};t1(V,t)}else{var K;if((K=t.content)==null?0:K.simpleCardContentRenderer){if(!t.cueRanges.length)return;P=(Z=t.content)==null?void 0:Z.simpleCardContentRenderer;Z=t.teaser.simpleCardTeaserRenderer;var R=t.icon?t.icon.infoCardIconRenderer:null;t={id:x,timestamp:V.B,type:"simple",teaserText:g.FX(Z.message),teaserDurationMs:Number(t.cueRanges[0].teaserDurationMs),startMs:Number(t.cueRanges[0].startCardActiveMs),autoOpen:!!t.autoOpen,
sessionData:x7(V,x,t,P),sponsored:!1,Wi:hd(P,Z,P.command),Cd:P.trackingParams?g.mn(P.trackingParams):null,Hi:Z.trackingParams?g.mn(Z.trackingParams):null,Hr:R&&R.trackingParams?g.mn(R.trackingParams):null,imageUrl:uI(P.image.thumbnails,290).url,displayDomain:P.displayDomain?g.FX(P.displayDomain):null,showLinkIcon:!!P.showLinkIcon,iX:null,title:P.title?g.FX(P.title):"",customMessage:P.callToAction?g.FX(P.callToAction):"",url:g.l(P.command,g.Uv).url?UX({pause_on_navigation:!V.context.videoData.isLivePlayback,
target:"new",value:g.l(P.command,g.Uv).url}):null,onClickCommand:null};t1(V,t)}else{var f;if((f=t.content)==null?0:f.collaboratorInfoCardContentRenderer){if(!t.cueRanges.length)return;Z=(P=t.content)==null?void 0:P.collaboratorInfoCardContentRenderer;P=t.teaser.simpleCardTeaserRenderer;R=t.icon?t.icon.infoCardIconRenderer:null;t={id:x,timestamp:V.B,type:"collaborator",teaserText:g.FX(P.message),teaserDurationMs:Number(t.cueRanges[0].teaserDurationMs),startMs:Number(t.cueRanges[0].startCardActiveMs),
autoOpen:!!t.autoOpen,sessionData:x7(V,x,t,Z),sponsored:!1,Wi:hd(Z,P,Z.endpoint),Cd:Z.trackingParams?g.mn(Z.trackingParams):null,Hi:P.trackingParams?g.mn(P.trackingParams):null,Hr:R&&R.trackingParams?g.mn(R.trackingParams):null,channelId:g.l(Z.endpoint,g.Mm).browseId,customMessage:Z.customText?g.FX(Z.customText):null,profileImageUrl:uI(Z.channelAvatar.thumbnails,290).url,title:Z.channelName?g.FX(Z.channelName):"",metaInfo:[Z.subscriberCountText?g.FX(Z.subscriberCountText):""],url:UX({pause_on_navigation:!V.context.videoData.isLivePlayback,
target:"new",value:g.l(Z.endpoint,g.Mm).canonicalBaseUrl?g.l(Z.endpoint,g.Mm).canonicalBaseUrl:"/channel/"+g.l(Z.endpoint,g.Mm).browseId}),onClickCommand:null};t1(V,t)}else{var b;if((b=t.content)==null?0:b.playlistInfoCardContentRenderer){if(!t.cueRanges.length)return;Z=(R=t.content)==null?void 0:R.playlistInfoCardContentRenderer;P=t.teaser.simpleCardTeaserRenderer;R=t.icon?t.icon.infoCardIconRenderer:null;t={id:x,timestamp:V.B,type:"playlist",teaserText:g.FX(P.message),teaserDurationMs:Number(t.cueRanges[0].teaserDurationMs),
startMs:Number(t.cueRanges[0].startCardActiveMs),autoOpen:!!t.autoOpen,sessionData:x7(V,x,t,Z),sponsored:!1,Wi:hd(Z,P,Z.action),Cd:Z.trackingParams?g.mn(Z.trackingParams):null,Hi:P.trackingParams?g.mn(P.trackingParams):null,Hr:R&&R.trackingParams?g.mn(R.trackingParams):null,eq:uI(Z.playlistThumbnail.thumbnails,258).url,customMessage:Z.customMessage?g.FX(Z.customMessage):null,playlistVideoCount:g.FX(Z.playlistVideoCount),title:Z.playlistTitle?g.FX(Z.playlistTitle):"",metaInfo:[Z.channelName?g.FX(Z.channelName):
"",Z.videoCountText?g.FX(Z.videoCountText):""],url:UX({pause_on_navigation:!V.context.videoData.isLivePlayback,target:"new",value:eai(Z.action)}),onClickCommand:null};t1(V,t)}else{var E;if((E=t.content)==null?0:E.videoInfoCardContentRenderer){if(!t.cueRanges.length)return;var k;Z=(k=t.content)==null?void 0:k.videoInfoCardContentRenderer;P=t.teaser.simpleCardTeaserRenderer;R=t.icon?t.icon.infoCardIconRenderer:null;t={id:x,timestamp:V.B,type:"video",teaserText:g.FX(P.message),teaserDurationMs:Number(t.cueRanges[0].teaserDurationMs),
startMs:Number(t.cueRanges[0].startCardActiveMs),autoOpen:!!t.autoOpen,sessionData:x7(V,x,t,Z),sponsored:!1,Wi:hd(Z,P,Z.action),Cd:Z.trackingParams?g.mn(Z.trackingParams):null,Hi:P.trackingParams?g.mn(P.trackingParams):null,Hr:R&&R.trackingParams?g.mn(R.trackingParams):null,eq:uI(Z.videoThumbnail.thumbnails,258).url,videoDuration:Z.lengthString?g.FX(Z.lengthString):null,customMessage:Z.customMessage?g.FX(Z.customMessage):null,title:Z.videoTitle?g.FX(Z.videoTitle):"",metaInfo:[Z.channelName?g.FX(Z.channelName):
"",Z.viewCountText?g.FX(Z.viewCountText):""],isLiveNow:!!Z.badge,url:UX({pause_on_navigation:!V.context.videoData.isLivePlayback,target:"new",value:eai(Z.action)}),onClickCommand:null};t1(V,t)}}}}}V.B++},uI=function(V,t){for(var x=-1,u=-1,Z=0;Z<V.length;Z++){if(V[Z].height===t||V[Z].width===290)return V[Z];
((V[Z].height||0)<t||(V[Z].width||0)<290)&&(x<0||(V[x].height||0)<(V[Z].height||0)||(V[x].width||0)<(V[Z].width||0))?x=Z:((V[Z].height||0)>=t||(V[Z].width||0)>=290)&&(u<0||(V[u].height||0)>(V[Z].height||0)||(V[u].width||0)>(V[Z].width||0))&&(u=Z)}return V[u>=0?u:x]},x7=function(V,t,x,u){return{feature:x.feature?x.feature:"cards",
src_vid:V.context.videoData.videoId,annotation_id:t,ei:V.context.videoData.eventId||"",itct:u.trackingParams||""}},wxU=function(V,t){if(t=ha$(V,t))t===V.J&&(V.J=null),V.U.removeCueRange(t.D8.id),g.RZ(t.NC),g.h_(V.cards,t),V.Zn(),Zq(V)},wA=function(V,t,x){if(!V.N){V.yC.show();
V.dk=new g.qK(function(){g.OU(V.context.U.getRootNode(),g.Ug.IV_DRAWER_OPEN)},0);
V.dk.start();V.L1.Z(V.S,"mousewheel",function(K){V.cX.start();K.preventDefault();K=K||window.event;var R=0;K.type=="MozMousePixelScroll"?R=0==(K.axis==K.HORIZONTAL_AXIS)?K.detail:0:window.opera?R=K.detail:R=K.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?K.wheelDeltaY/-30:K.wheelDeltaY/-1.2:K.wheelDelta/-1.6:K.wheelDeltaY/-3;if(K=R)V.S.scrollTop+=K});
V.N=!0;var u=g.aw();u&&V.Us&&V.L&&g.bv(u,[V.Us,V.L]);t={TRIGGER_TYPE:t};for(var Z=g.G(V.cards),P=Z.next();!P.done;P=Z.next())P=P.value,P.ul||(P.ul=!0,VAE(V.context.logger,P.D8.Wi.u8,t)),u&&g.bv(u,[P.D8.Cd]);X0(V.U);x&&(V.G=new g.qK(function(){V.BX=V.C;V.gk.focus()},330),V.G.start())}},VB=function(V){V.N&&(V.yC.hide(),g.oV(V.L1),g.NK(V.context.U.getRootNode(),g.Ug.IV_DRAWER_OPEN),V.N=!1,X0(V.U),V.G&&V.G.stop(),V.G=new g.qK(function(){V.BX&&(V.BX.focus(),V.BX=null)},330),V.G.start())},tAc=function(V){g.sU(V.m0(),
[g.Ug.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.aE(V.U,V.W,5);V.cn();V.C=g.JI("ytp-cards-button",V.U.getRootNode());V.gk=g.JI("iv-drawer-close-button",V.W);V.isInitialized=!0},xxn=function(V){V.Ij.push(g.im("iv-teaser-shown",V.Fn,V));
V.Ij.push(g.im("iv-teaser-hidden",V.QjX,V));V.Ij.push(g.im("iv-teaser-clicked",V.fX,V));V.w6=!0},u8Y=function(V,t){var x;
return t.onClickCommand&&((x=g.l(t.onClickCommand,g.Y$c))==null?void 0:x.targetId)==="engagement-panel-error-corrections"?(V.wk=t,!0):!1},Z9E=function(V,t){V.wk=t;
var x=V.U.getVideoData();if(!x)return!1;x=g.g8(x);if(x==null?0:x.markersMap)for(var u,Z=0;((u=x)==null?void 0:u.markersMap.length)>Z;Z++){var P=void 0,K=(P=x)==null?void 0:P.markersMap[Z];if(K.key==="ERROR_CORRECTION_MARKERS"&&(P=void 0,(K=(P=K.value)==null?void 0:P.markers)&&K.length>0))return u=void 0,t.startMs=((u=g.l(K[0],g.SFz))==null?void 0:u.timeRangeStartMillis)||0,V.wk=null,!0}return!1},t1=function(V,t){if(!u8Y(V,t)||Z9E(V,t)){var x=PxE(V,t);
if(x){var u={D8:t,NC:x.element,ul:!1};if(t.onClickCommand)V.U.T("web_infocards_teaser_show_logging_fix")&&(V.w6||xxn(V),wxU(V,t.id),x=V.findLastIndex(u),g.ZT(V.cards,x,0,u));else{V.isInitialized||tAc(V);wxU(V,t.id);var Z=V.findLastIndex(u);g.ZT(V.cards,Z,0,u);x.t6(V.S,Z);V.Zn()}t.autoOpen?V.addCueRange(t.startMs,0x8000000000000,t.id,function(){V.N||(V.J=u,Zq(V),KLU(V,u),wA(V,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(x=V.context.U.getCurrentTime()*1E3,x<5E3&&x>t.startMs&&qoj(V,u),V.addCueRange(t.startMs,
t.startMs+1,t.id,function(){qoj(V,u)}),Zq(V))}}},PxE=function(V,t){switch(t.type){case "simple":V=V.zU;
var x=t.displayDomain?{Y:"div",V:"iv-card-image-text",mw:t.displayDomain}:void 0;var u=l3j(t);x={Y:"div",vX:["iv-card"],D:[{Y:"a",V:"iv-click-target",j:{href:t.url?Hm(t.url)||"":""},D:[eu(t.imageUrl,x),{Y:"div",V:"iv-card-content",D:[D0("h2",void 0,t.title),u]}]}]};x=new g.e(x);dA(V,g.dZ("iv-click-target",x.element),t,t.url);t=x;break;case "collaborator":V=V.zU;x={Y:"div",vX:["iv-card","iv-card-channel"],D:[{Y:"a",vX:["iv-click-target"],j:{href:Hm(t.url)||"","data-ytid":t.channelId},D:[eu(t.profileImageUrl),
{Y:"div",V:"iv-card-content",D:[yVr(t),{Y:"h2",V:"iv-card-primary-link",mw:t.title},j0z(t)]}]}]};x=new g.e(x);dA(V,g.dZ("iv-click-target",x.element),t,t.url);t=x;break;case "playlist":V=V.zU;x={Y:"div",vX:["iv-card","iv-card-playlist"],D:[{Y:"a",V:"iv-click-target",j:{href:Hm(t.url)||""},D:[eu(t.eq,{Y:"div",V:"iv-card-image-overlay",D:[{Y:"span",V:"iv-card-playlist-video-count",mw:t.playlistVideoCount}]}),{Y:"div",V:"iv-card-content",D:[yVr(t),D0("h2","iv-card-primary-link",t.title),j0z(t)]}]}]};
x=new g.e(x);dA(V,g.dZ("iv-click-target",x.element),t,t.url);t=x;break;case "productListing":V=V.zU;var Z=t.offers.length!=0;x=["iv-card"];u="";var P=l3j(t);Z&&(x.push("iv-card-product-listing"),u="iv-card-primary-link",P=t.offers[0],Z=[],P.price&&Z.push({Y:"div",V:"iv-card-offer-price",mw:P.price}),P.merchant&&Z.push({Y:"div",V:"iv-card-offer-merchant",mw:P.merchant}),P={Y:"div",D:Z});Z=t.url?Hm(t.url)||"":"";x={Y:"div",vX:x,j:{tabindex:"0"},D:[{Y:"a",vX:["iv-card-image","iv-click-target"],j:{style:"background-image: url("+
t.imageUrl+");",href:Z,"aria-hidden":"true",tabindex:"-1"}},{Y:"div",V:"iv-card-content",D:[t.sponsored?{Y:"div",V:"iv-card-sponsored",D:["Sponsored",{Y:"div",V:"iv-ad-info-container",D:[{Y:"div",V:"iv-ad-info",mw:"{{adInfo}}"},{Y:"div",V:"iv-ad-info-icon-container",D:[{Y:"div",V:"iv-ad-info-icon"},{Y:"div",V:"iv-ad-info-callout"}]}]}]}:"",{Y:"a",V:"iv-click-target",j:{href:Z},D:[D0("h2",u,t.title),P]}]}]};x=new g.e(x);u=g.uc("span");g.$P(u,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
x.g9(u,"adInfo");dA(V,g.dZ("iv-click-target",x.element),t,t.url);t=x;break;case "video":V=V.zU;u=t.videoDuration?{Y:"span",V:"iv-card-video-duration",mw:t.videoDuration}:void 0;P=t.isLiveNow?{Y:"span",vX:["yt-badge","yt-badge-live"],mw:"LIVE NOW"}:null;Z={Y:"div",vX:["iv-card","iv-card-video"],D:[{Y:"a",V:"iv-click-target",j:{href:((x=t.url)==null?void 0:Hm(x))||""},D:[eu(t.eq,u),{Y:"div",V:"iv-card-content",D:[yVr(t),D0("h2","iv-card-primary-link",t.title),j0z(t),P]}]}]};x=new g.e(Z);dA(V,g.dZ("iv-click-target",
x.element),t,t.url);t=x;break;default:return null}return t},Rc_=function(V){if(V.J)return V.J.D8.type==="productListing";
if(V.U.T("enable_wn_infocards")){var t;return!((t=V.cards)==null||!t.length)&&g.aQ(V.cards,function(x){return x.D8.type==="productListing"})}return g.aQ(V.cards,function(x){return x.D8.type==="productListing"})},Zq=function(V){g.Am(V.U.getRootNode(),"ytp-cards-shopping-active",Rc_(V))},qoj=function(V,t){if(!g.i6(V.U.getRootNode(),"ytp-cards-teaser-shown")){if(V.J!==t){var x=g.aw(),u=V.J?V.J.D8.Hr:V.Hr;
x&&u&&g.Ev(x,[u]);V.J=t;Zq(V)}(x=V.isInitialized&&V.m0().style.display=="none")||(x=V.context.U.getPlayerState(),u=x===0&&V.context.U.getCurrentTime()===0,x=!(x===1||x===3||u));x||t.D8.teaserDurationMs&&V.U.jA(!0,{teaserText:t.D8.teaserText,durationMs:t.D8.teaserDurationMs,onClickCommand:t.D8.onClickCommand});V.HX.isActive()||((!V.N||!V.cX.isActive()&&V.Es)&&KLU(V,t),V.HX.start(910+t.D8.teaserDurationMs))}},KLU=function(V,t){V.X.iq?(t=new Q4([0,
V.S.scrollTop],[0,t.NC.offsetTop],600,iPE),V.context.N.listen(t,"animate",function(x){V.S.scrollTop=x.y}),V.context.N.listen(t,"finish",function(x){V.S.scrollTop=x.y}),t.play()):(V.X.RC(!0),V.S.scrollTop=t.NC.offsetTop,V.X.RC(!1))},PA=function(V){return V.J&&V.J.D8?V.J.D8:V.cards[0]&&V.cards[0].D8?V.cards[0].D8:null},ha$=function(V,t){return g.ei(V.cards,function(x){return x.D8.id===t})},K$=function(V,t,x){CH.call(this,V,t);
this.annotation=x;this.isActive=!1},fVs=function(V){var t=V.annotation.data;
"start_ms"in t&&"end_ms"in t&&V.addCueRange(Number(t.start_ms),Number(t.end_ms),V.annotation.id,function(){V.show()},function(){V.hide()})},qk=function(V,t,x){K$.call(this,V,t,x);
this.S=null;this.L=!1;this.N=null;this.W=!1;this.J=this.B=this.G=null},$xF=function(V,t){var x=x===void 0?0:x;
var u=PFF(t).width;g.zh(t,u);x=new EVY(t,[u,t.offsetTop],[u-u-x,t.offsetTop],200,kmn);g.y(V,x);V.context.N.listen(x,"begin",function(){g.rJ(t,!0)});
x.play()},kTY=function(V,t){if(t.channel_name){var x=V.createElement({Y:"div",
vX:["iv-branding-context-name"],mw:t.channel_name}),u=V.createElement({Y:"div",vX:["iv-branding-context-subscribe"]}),Z=t.standalone_subscribe_button_data;Z&&(V.J=new g.Ed(Z.subscribeText,Z.subscribeCount,Z.unsubscribeText,Z.unsubscribeCount,!!Z.enabled,!!Z.classic,t.channel_id,!!Z.subscribed,Z.feature,t.session_data.itct,V.context.U,!1),V.J.t6(u));var P=V.createElement({Y:"div",vX:["iv-branding-context-subscribe-caret"]}),K=V.createElement({Y:"div",vX:["branding-context-container-inner"]});K.appendChild(P);
K.appendChild(x);K.appendChild(u);g.rJ(K,!1);var R=V.createElement({Y:"div",vX:["branding-context-container-outer"]});R.appendChild(K);g.Ao(R,"right",t.image_width+"px");g.Py(V.m0(),R);V.N=new g.qK(function(){b9j(V,K,R)},500);
g.y(V,V.N);V.context.J.listen(V.m0(),"mouseover",function(){Enj(V,K,R,P,t.image_height)});
V.context.J.listen(V.m0(),"mouseout",function(){V.N.start()})}},Enj=function(V,t,x,u,Z){V.N.stop();
if(!V.W){var P=g.ao(t);V.J||(t.style.width=g.LI(P.width,!0),x.style.width=g.LI(P.width,!0));g.Ao(u,"top",P.height-Math.max(Math.min(P.height,Z)/2+10,20)+"px");g.Ao(u,"right","1px");V.W=!0;g.rJ(t,!0);V.G=new g.qK(function(){g.OU(this.m0(),"iv-branding-active")},0,V);
V.G.start()}},b9j=function(V,t,x){g.NK(V.m0(),"iv-branding-active");
V.B=new g.qK(function(){g.rJ(t,!1);V.J||(x.style.width=g.LI(0,!0))},250);
V.B.start();V.W=!1},i9z=function(V,t,x,u,Z,P,K){this.J=V;
this.N=t;this.Rj=x;this.videoData=u;this.logger=Z;this.U=P;this.S=K},O9n=function(V,t,x){K$.call(this,V,t,x);
var u=this;this.C=this.isCollapsed=this.X=!1;this.B=5E3;this.S=this.N=this.J=this.W=null;this.L=this.createElement({Y:"div",vX:["iv-promo-contents"]});this.G=new g.qK(function(){u.J.setAttribute("aria-hidden","true");g.rJ(u.N,!1);g.rJ(u.S,!0)},700,this);
g.y(this,this.G)},NHc=function(V){var t=V.annotation.data;
if(V.annotation.style==="cta")var x=6;else if(V.annotation.style==="video"||V.annotation.style==="playlist")x=7;V.B=t.collapsedelay_ms||V.B;var u=["iv-promo","iv-promo-inactive"];V.m0().setAttribute("aria-hidden","true");V.m0().setAttribute("aria-label","Promotion");V.m0().tabIndex=0;var Z=V.annotation.dL(),P=t.image_url;if(P){var K=V.createElement({Y:"div",vX:["iv-promo-img","iv-click-target"]});P=V.createElement({Y:"img",j:{src:P,"aria-hidden":"true"}});K.appendChild(P);t.video_duration&&!t.is_live?
(P=V.createElement({Y:"span",V:"iv-promo-video-duration",mw:t.video_duration}),K.appendChild(P)):t.playlist_length&&(P=V.createElement({Y:"span",V:"iv-promo-playlist-length",mw:t.playlist_length.toString()}),K.appendChild(P));Z&&Jd(V,K,Z,V.annotation.id,t.session_data,void 0,x)}Z?(P=V.createElement({Y:"a",V:"iv-promo-txt"}),g.WQ(P,Hm(Z)),V.J=P):V.J=V.createElement({Y:"div",V:"iv-promo-txt"});switch(V.annotation.style){case "cta":case "website":var R=V.createElement({Y:"p",D:[{Y:"strong",mw:t.text_line_1}]});
var f=V.createElement({Y:"p",D:[{Y:"span",V:"iv-promo-link",mw:t.text_line_2}]});if(P=t.text_line_3){u.push("iv-promo-website-card-cta-redesign");var b=V.createElement({Y:"button",vX:["iv-promo-round-expand-icon","ytp-button"]});P=V.createElement({Y:"button",vX:["iv-button","iv-promo-button"],D:[{Y:"span",V:"iv-button-content",mw:P}]});var E=V.createElement({Y:"div",V:"iv-promo-button-container"});E.appendChild(P);Z&&Jd(V,V.m0(),Z,V.annotation.id,t.session_data,void 0,x)}g.OU(V.J,"iv-click-target");
Z&&Jd(V,V.J,Z,V.annotation.id,t.session_data,void 0,x);break;case "playlist":case "video":R=V.createElement({Y:"p",D:[{Y:"span",mw:t.text_line_1}]}),f=V.createElement({Y:"p",D:[{Y:"strong",mw:t.text_line_2}]}),t.is_live&&(R=f,f=V.createElement({Y:"span",vX:["yt-badge","iv-promo-badge-live"],mw:"LIVE NOW"})),g.OU(V.J,"iv-click-target"),Z&&Jd(V,V.J,Z,V.annotation.id,t.session_data,void 0,x),u.push("iv-promo-video")}R&&V.J.appendChild(R);f&&V.J.appendChild(f);V.L.appendChild(V.J);E&&V.L.appendChild(E);
x=V.createElement({Y:"div",V:"iv-promo-actions"});V.S=V.createElement({Y:"button",vX:["iv-promo-expand","ytp-button"]});V.S.title="Expand";V.context.J.listen(V.S,"click",function(k){s2$(V,5E3,k)});
x.appendChild(V.S);g.rJ(V.S,!1);V.context.J.listen(V.m0(),"mouseover",V.qc,V);V.context.J.listen(V.m0(),"mouseout",V.Or,V);V.context.J.listen(V.m0(),"touchend",function(k){s2$(V,5E3,k)});
V.N=V.createElement({Y:"button",vX:["iv-promo-close","ytp-button"]});V.N.title="Close";V.context.J.listen(V.N,"click",V.annotation.style==="cta"&&t.text_line_3?V.jG:V.Db,V);x.appendChild(V.N);g.sU(V.m0(),u);K&&(g.Py(V.m0(),K),b&&K.appendChild(b));g.Py(V.m0(),V.L);g.Py(V.m0(),x)},s2$=function(V,t,x){x.stopPropagation();
pQn(V);AcU(V,t);V.J.focus()},SoE=function(V){V.isCollapsed||V.C||V.W||(g.OU(V.m0(),"iv-promo-collapsed"),V.isCollapsed=!0,V.G.start())},pQn=function(V){V.G.stop();
V.isCollapsed&&(g.pb(V.m0(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),V.isCollapsed=!1,V.J&&V.J.removeAttribute("aria-hidden"),g.rJ(V.S,!1),g.rJ(V.N,!0))},AcU=function(V,t){V.W||(V.W=g.BM(function(){GTE(this);
SoE(this)},t,V))},GTE=function(V){V.W&&(g.Ww.clearTimeout(V.W),V.W=null)},IV$=function(V){this.U=V},VAE=function(V,t,x){t&&(x?Rs(V,t.map(function(u){return g.nK(u,x)})):Rs(V,t))},Rs=function(V,t,x,u){var Z=1,P=void 0,K=-1;
if(x){var R=!1;P=function(){Z--;Z||R||(clearTimeout(K),R=!0,x())};
K=setTimeout(function(){R=!0;x()},1E3)}t=g.G(t||[]);
for(var f=t.next();!f.done;f=t.next())f=f.value,Z++,g.Cg(f,P);u&&(Z++,u!==0&&V.U.sendVideoStatsEngageEvent(u,P))},vns=function(V){g.m5.call(this,V);
var t=this;this.Ij=this.C=!1;this.loadNumber=0;this.B={};this.logger=new IV$(this.player);this.W=new g.j6(this);this.G=this.L=null;this.events=new g.j6(this);this.W0=this.X=this.J=null;this.wk=[];g.y(this,this.W);this.W.Z(this.player,"onVideoAreaChange",function(){t.publish("onVideoAreaChange")});
this.W.Z(this.player,"onHideControls",function(){t.publish("onHideControls")});
this.W.Z(this.player,"onShowControls",function(){t.publish("onShowControls")});
this.W.Z(this.player,"resize",function(u){t.publish("resize",u)});
this.W.Z(this.player,"presentingplayerstatechange",function(u){t.publish("presentingplayerstatechange",u)});
this.subscribe("presentingplayerstatechange",this.Ua,this);this.subscribe("resize",this.yJ,this);this.player.K().Es.subscribe("vast_info_card_add",this.xP,this);g.y(this,this.events);this.zU=this.createElement({Y:"div",V:"video-custom-annotations"});this.S=new g.e({Y:"div",vX:["ytp-player-content","ytp-iv-player-content"]});g.y(this,this.S);g.aE(this.player,this.S.element,4);this.S.hide();this.N=new g.e({Y:"div",vX:["ytp-iv-video-content"]});g.y(this,this.N);V=this.createElement({Y:"div",V:"video-annotations"});
V.appendChild(this.zU);this.N.element.appendChild(V);this.oF()&&this.load();var x=this.createElement({Y:"style"});(g.ec("HEAD")[0]||document.body).appendChild(x);this.addOnDisposeCallback(function(){g.RZ(x)});
if(V=x.sheet)V.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),V.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),V.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),V.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),V.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),V.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),V.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),V.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),V.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),V.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},LLj=function(V){V=V.createElement({Y:"div",
vX:["annotation","annotation-type-custom"]});g.rJ(V,!1);return V},FLi=function(V,t){t=!t.isCued()&&!g.J(t,1024);
V.S.RC(t);V.N.RC(t)},MAs=function(V,t,x){V.C=!0;
V.G=g.r5(t,x)},gnU=function(V,t){for(var x={},u=g.G(t.attributes),Z=u.next();!Z.done;Z=u.next())Z=Z.value,x[Z.name]=Z.nodeValue;
for(u=0;u<t.childNodes.length;u++)if(Z=t.childNodes[u],g.lL(Z)&&Z.nodeType==1){if(x[Z.tagName])var P=x[Z.tagName];else if(Z.tagName==="data"){Z.childNodes.length>0&&(P=Z.childNodes[0].nodeValue,x[Z.tagName]=typeof P==="string"?P.trim():P);continue}else P=[],x[Z.tagName]=P;Z&&Z.tagName==="TEXT"?Z.childNodes.length===1&&Z.childNodes[0].nodeType===3?P.push(Z.childNodes[0].nodeValue):P.push(""):Z&&P.push(gnU(V,Z))}return x},mxn=function(V){var t=V.player.getVideoData();
if(t.xw){var x=V.player.K().Es.get(t.videoId);if(x){var u={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(Z,P,K){Z=V.loadNumber;P=t.videoId;V.loaded&&V.loadNumber===Z&&V.player.getVideoData().videoId===P&&(K=g.LJ(K)&&K.responseXML?K.responseXML:null)&&XQz(V,K)}};
g.$e()&&(u.onFinish=zcs(V,u.onFinish));u.postParams={ic_only:"1"};BHF(u,x);V.C=!0;g.r5(t.xw,u)}}},BHF=function(V,t){V.method="POST";
V.postParams=V.postParams||{};t.aQ&&(V.postParams.ic_coll=t.aQ);t.mq&&(V.postParams.ic_xml=t.mq);t.mP&&(V.postParams.ic_track=t.mP)},Yoc=function(V){var t=new g.e({Y:"div"});
g.rJ(t.element,!1);var x=new dPz(V.player,t.element,f$(V));g.y(x,t);t.t6(V.S.element);x.KF();return x},aVs=function(V,t){var x,u;
if(t=(x=t.getWatchNextResponse())==null?void 0:(u=x.cards)==null?void 0:u.cardCollectionRenderer)V.Ij=!0,Q2_(V,t),t.headerText&&V.W0&&(x=g.FX(t.headerText),V.W0.setAttribute("title",x))},f$=function(V){if(!V.X){var t=new OPj(V);
g.y(V,t);var x=new g.Yw(V);g.y(V,x);V.X=new i9z(t,x,V.player.K(),V.player.getVideoData(),V.logger,V.player,V.yd)}return V.X},XQz=function(V,t){var x=!1,u=t.getElementsByTagName("annotations");
if(u&&!(u.length<1)&&(u=u[0].getAttribute("itct"))){var Z=g.aw();if(Z){var P=g.QK();P&&g.RW(g.tz)(void 0,Z,P,[g.mn(u)])}}t=t.getElementsByTagName("annotation");for(u=0;u<t.length;u++){P=gnU(V,t[u]);Z=null;try{if(P){var K=P.id,R=/.+/;var f=typeof K==="string"&&R!=null&&K!=null&&K.match(R)?K:"";var b=ly(P.type,rcj),E=ly(P.style,THE),k=mPj(P.data),O=k.length!==0?JSON.parse(k):{};var N=P.action;P=WIs;if(N==null)var p=null;else if(g.jj(N)){R=[];for(var I=g.G(N),L=I.next();!L.done;L=I.next()){var M=P(L.value);
M&&R.push(M)}p=R}else{var z=P(N);p=z?[z]:[]}Z=f&&b?new oVj(f,b,E,p,O):null}else Z=null}catch(uL){}if(Z)if(Z.type==="branding"||Z.type==="promotion"){P=V;R=Z;var Y=LLj(P),r=null;switch(R.type){case "branding":if(P.player.K().SH)break;P.S.element.appendChild(Y);r=new qk(Y,f$(P),R);break;case "promotion":g.aE(P.player,Y,4),r=new O9n(Y,f$(P),R)}r&&r.KF();if(P=r)g.y(V,P),V.B[Z.id]=P}else if(Z.type==="card"||Z.type==="drawer"){V.J||(V.J=Yoc(V),g.y(V,V.J));if(Z.type==="card"){Y=V.J;var n=(x=Z)&&x.data&&
x.data.card_type;Z=x.data;if(n)switch(P=Z.tracking||{},P={u8:P.impression,click:P.click,close:P.close,Eo:P.teaser_impression,ex:P.teaser_click},R=Z.tracking_params||{},r=null,n){case "collaborator":x={id:x.id,timestamp:Z.timestamp||0,type:Z.card_type,teaserText:Z.teaser_text,teaserDurationMs:Z.teaser_duration_ms,startMs:Z.start_ms,autoOpen:Z.auto_open||!1,sessionData:Z.session_data||{},sponsored:Z.sponsored||!1,Wi:P,Cd:R.card?g.mn(R.card):null,Hi:R.teaser?g.mn(R.teaser):null,Hr:R.icon?g.mn(R.icon):
null,channelId:Z.channel_id,customMessage:Z.custom_message?Z.custom_message:null,profileImageUrl:Z.image_url,title:Z.title,metaInfo:Z.meta_info,url:UX({pause_on_navigation:Z.pause_on_navigation,target:Z.target||"new",value:Z.url}),onClickCommand:null};t1(Y,x);break;case "playlist":x={id:x.id,timestamp:Z.timestamp||0,type:Z.card_type,teaserText:Z.teaser_text,teaserDurationMs:Z.teaser_duration_ms,startMs:Z.start_ms,autoOpen:Z.auto_open||!1,sessionData:Z.session_data||{},sponsored:Z.sponsored||!1,Wi:P,
Cd:R.card?g.mn(R.card):null,Hi:R.teaser?g.mn(R.teaser):null,Hr:R.icon?g.mn(R.icon):null,eq:Z.image_url,playlistVideoCount:Z.playlist_video_count,customMessage:Z.custom_message?Z.custom_message:null,title:Z.title,metaInfo:Z.meta_info,url:UX({pause_on_navigation:Z.pause_on_navigation,target:Z.target||"new",value:Z.url}),onClickCommand:null};t1(Y,x);break;case "productListing":Z.signin_url&&(r=UX({target:"current",value:Z.signin_url}));n=[];for(var U=Z.offers||[],d=0;d<U.length;d++)n.push(new HPY(g.xE(U[d].merchant),
g.xE(U[d].price)));x={id:x.id,timestamp:Z.timestamp||0,type:Z.card_type,teaserText:Z.teaser_text,teaserDurationMs:Z.teaser_duration_ms,startMs:Z.start_ms,autoOpen:Z.auto_open||!1,sessionData:Z.session_data||{},sponsored:Z.sponsored||!1,Wi:P,Cd:R.card?g.mn(R.card):null,Hi:R.teaser?g.mn(R.teaser):null,Hr:R.icon?g.mn(R.icon):null,imageUrl:Z.image_url,displayDomain:Z.display_domain?Z.display_domain:null,showLinkIcon:!!Z.show_link_icon,iX:Z.button_icon_url?Z.button_icon_url:null,title:Z.title,customMessage:Z.custom_message?
Z.custom_message:null,url:UX({pause_on_navigation:Z.pause_on_navigation,target:Z.target||"new",value:Z.url}),Wns:r,mkX:Z.signin_title?Z.signin_title:void 0,NSy:Z.signin_message?Z.signin_message:void 0,offers:n,onClickCommand:null};t1(Y,x);break;case "simple":x={id:x.id,timestamp:Z.timestamp||0,type:Z.card_type,teaserText:Z.teaser_text,teaserDurationMs:Z.teaser_duration_ms,startMs:Z.start_ms,autoOpen:Z.auto_open||!1,sessionData:Z.session_data||{},sponsored:Z.sponsored||!1,Wi:P,Cd:R.card?g.mn(R.card):
null,Hi:R.teaser?g.mn(R.teaser):null,Hr:R.icon?g.mn(R.icon):null,imageUrl:Z.image_url,displayDomain:Z.display_domain?Z.display_domain:null,showLinkIcon:!!Z.show_link_icon,iX:Z.button_icon_url?Z.button_icon_url:null,title:Z.title,customMessage:Z.custom_message?Z.custom_message:null,url:UX({pause_on_navigation:Z.pause_on_navigation,target:Z.target||"new",value:Z.url}),onClickCommand:null};t1(Y,x);break;case "video":x={id:x.id,timestamp:Z.timestamp||0,type:Z.card_type,teaserText:Z.teaser_text,teaserDurationMs:Z.teaser_duration_ms,
startMs:Z.start_ms,autoOpen:Z.auto_open||!1,sessionData:Z.session_data||{},sponsored:Z.sponsored||!1,Wi:P,Cd:R.card?g.mn(R.card):null,Hi:R.teaser?g.mn(R.teaser):null,Hr:R.icon?g.mn(R.icon):null,eq:Z.image_url,videoDuration:Z.video_duration||null,customMessage:Z.custom_message?Z.custom_message:null,title:Z.title,metaInfo:Z.meta_info,isLiveNow:!!Z.is_live_now,url:UX({pause_on_navigation:Z.pause_on_navigation,target:Z.target||"new",value:Z.url}),onClickCommand:null},t1(Y,x)}}else CFU(V.J,Z);x=!0}}x&&
(X0(V.player),V.yJ())},Q2_=function(V,t){var x=!1;
V.J||(V.J=Yoc(V),g.y(V,V.J));for(var u=g.G(t.cards||[]),Z=u.next();!Z.done;Z=u.next())Z=Z.value,Z.cardRenderer&&(JV$(V.J,Z.cardRenderer),x=!0);if(x){var P;(P=V.player.getVideoData())!=null&&g.Qa(P)||(x=V.J,u=t.headerText?g.FX(t.headerText):"",g.$P(x.Tc,u),x.C&&x.C.setAttribute("title",u),x.context.videoData.eventId&&(x.eventId=x.context.videoData.eventId),x.Us=t.trackingParams?g.mn(t.trackingParams):null,x.L=t.closeButton.infoCardIconRenderer.trackingParams?g.mn(t.closeButton.infoCardIconRenderer.trackingParams):
null,x.Hr=t.icon.infoCardIconRenderer.trackingParams?g.mn(t.icon.infoCardIconRenderer.trackingParams):null,V.yJ());X0(V.player)}},WL7=function(V,t,x,u,Z){if(!V.player.K().SH){var P=[];
t.navigationEndpoint&&g.l(t.navigationEndpoint,g.Mm)&&g.l(t.navigationEndpoint,g.Mm).browseId&&P.push(new a3$("openUrl","click",new YLn("/channel/"+g.l(t.navigationEndpoint,g.Mm).browseId,"new",!0,!0)));var K=t.watermark.thumbnails[0];u={channel_name:t.channelName,end_ms:t.endTimeMs,image_height:K.height,image_type:1,image_url:K.url,image_width:K.width,is_mobile:!1,session_data:{annotation_id:x,ei:Z,feature:"iv",itct:t.trackingParams,src_vid:u},start_ms:t.startTimeMs};if(t.subscribeButton&&g.l(t.subscribeButton,
g.g3)){u.channel_id=g.l(t.subscribeButton,g.g3).channelId;var R;t=g.l(t.subscribeButton,g.g3);K=Z=null;t.subscribed?(t.subscriberCountWithUnsubscribeText&&(Z=g.FX(t.subscriberCountWithUnsubscribeText)),t.subscriberCountText&&(K=g.FX(t.subscriberCountText))):(t.subscriberCountText&&(Z=g.FX(t.subscriberCountText)),t.subscriberCountWithSubscribeText&&(K=g.FX(t.subscriberCountWithSubscribeText)));var f,b=((f=g.l((R=t.signInEndpoint)==null?void 0:R.commandMetadata,g.SZ))==null?void 0:f.url)||"";R={subscribeText:g.FX(t.unsubscribedButtonText),
subscribeCount:Z||"",unsubscribeText:g.FX(t.subscribedButtonText),unsubscribeCount:K||"",enabled:t.enabled||!1,classic:!1,subscribed:t.subscribed||!1,feature:"iv",signInUrl:b};u.standalone_subscribe_button_data=R}P=new oVj(x,"branding","branding",P,u);R=LLj(V);V.S.element.appendChild(R);P=new qk(R,f$(V),P);P.KF();g.y(P,P);V.B[x]=P}},zcs=function(V,t){return function(){var x=g.Xq.apply(0,arguments);
V.uD()||V.wk.push(g.w9.dg(function(){t.apply(null,g.v(x))}))}},on7=function(V){return V==="annotation-editor"||V==="live-dashboard"};
g.MD.prototype.jA=g.xC(40,function(V,t){var x=g.Uf(this.Jl());x&&x.jA(V,t)});
var Bm={},mZ=null;g.hT(Q4,g.S0);g.q=Q4.prototype;g.q.getDuration=function(){return this.duration};
g.q.play=function(V){if(V||this.J==0)this.progress=0,this.coords=this.S;else if(this.isPlaying())return!1;YR(this);this.startTime=V=g.JT();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.W=this.startTime;this.progress||this.vK();this.TA("play");this.isPaused()&&this.TA("resume");this.J=1;var t=g.Dz(this);t in Bm||(Bm[t]=this);RaE();f3$(this,V);return!0};
g.q.stop=function(V){YR(this);this.J=0;V&&(this.progress=1);$P7(this,this.progress);this.onStop();this.YH()};
g.q.pause=function(){this.isPlaying()&&(YR(this),this.J=-1,this.TA("pause"))};
g.q.NP=function(){this.J==0||this.stop(!1);this.TA("destroy");Q4.Sd.NP.call(this)};
g.q.destroy=function(){this.dispose()};
g.q.yB=function(){this.TA("animate")};
g.q.TA=function(V){this.dispatchEvent(new bPE(V,this))};
g.hT(bPE,g.cy);g.hT(a6,Q4);a6.prototype.N=function(){};
a6.prototype.yB=function(){this.N();a6.Sd.yB.call(this)};
a6.prototype.YH=function(){this.N();a6.Sd.YH.call(this)};
a6.prototype.vK=function(){this.N();a6.Sd.vK.call(this)};
g.hT(EVY,a6);EVY.prototype.N=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.A(OPj,g.c);g.q=OPj.prototype;g.q.listen=function(V,t,x,u){x=(0,g.ej)(x,u||this.S);V=g.mD(V,t,x);this.J.push(V);return V};
g.q.RY=function(V,t,x,u){x=(0,g.ej)(x,u||this.S);V=KIE(V,t,x);this.J.push(V);return V};
g.q.vk=function(V){g.YD(V);g.h_(this.J,V)};
g.q.removeAll=function(){g.YD(this.J);this.J.length=0};
g.q.NP=function(){this.removeAll();g.c.prototype.NP.call(this)};g.A(pxt,g.m5);g.q=pxt.prototype;g.q.load=function(){g.m5.prototype.load.call(this);if(!Wm(this)){var V=g.wdz(this.player.getVideoData());V?(V=NPj(V,AVY(this)),o6(this,V,!1)):SLn(this)}};
g.q.unload=function(){o6(this,null);this.W&&(this.W.abort(),this.W=null);g.m5.prototype.unload.call(this)};
g.q.qR=function(V,t){return Wm(this)?V==="loadCustomEndscreenRenderer"?(V=NPj(t,"new"),o6(this,V),!0):null:null};
g.q.getOptions=function(){return Wm(this)?["loadCustomEndscreenRenderer"]:[]};
g.q.lq=function(){if(this.endscreen&&this.endscreen.elements){var V=this.player.getVideoContentRect();if(V&&V.width!==0&&V.height!==0){var t=this.player.getPlayerSize();if(t&&t.width!==0&&t.height!==0){var x=V.width/V.height;var u=0;for(var Z=-1,P=0;P<nnE.length;P++){var K=Math.abs(t.width-nnE[P]);if(Z===-1||u>=K)Z=P,u=K}u=ccU[Z];this.N&&g.Ao(this.N.element,"outline-width",Math.max(t.width,t.height)+"px");for(t=0;t<this.endscreen.elements.length;++t)if(P=this.endscreen.elements[t].id,Z=this.S[P],
K=this.B[P],Z&&K){var R=K.width*x/K.aspectRatio,f=Math.round(K.width*V.width);P=Math.round(R*V.height);var b=V.left+Math.round(K.left*V.width),E=V.top+Math.round(K.top*V.height);g.QC(Z.element,f,P);g.zh(Z.element,b,E);g.pb(Z.element,ycj);f>256||P>256?g.OU(Z.element,"ytp-ce-large-round"):f>96||P>96?g.OU(Z.element,"ytp-ce-medium-round"):g.OU(Z.element,"ytp-ce-small-round");g.pb(Z.element,j2U);f=K.left+K.width/2;K=K.top+R/2;g.OU(Z.element,f<=.5&&K<=.5?"ytp-ce-top-left-quad":f>.5&&K<=.5?"ytp-ce-top-right-quad":
f<=.5&&K>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.pb(Z.element,ccU);g.OU(Z.element,u);(Z=g.Cu(document,"div","ytp-ce-expanding-overlay-body",Z.element)[0])&&g.Ao(Z,"height",P+"px")}}}}};
g.q.onCueRangeEnter=function(V){if(this.endscreen)if(V.getId()==="ytp-ce-in-endscreen")ju(this,this.endscreen.impressionUrls),(V=g.aw())&&this.endscreen.visualElement&&g.$W(V,this.endscreen.visualElement),this.J&&(g.OU(this.J,"ytp-ce-element-show"),this.J.removeAttribute("aria-hidden"),this.player.mL()?g.OU(this.J,"ytp-ce-hide-button-lower"):g.NK(this.J,"ytp-ce-hide-button-lower"));else{V=V.getId().substring(15);var t=this.S[V],x=this.B[V];g.OU(t.element,"ytp-ce-element-show");t.element.removeAttribute("aria-hidden");
t=this.player.getRootNode();g.OU(t,"ytp-ce-shown");ju(this,x.impressionUrls);(t=g.aw())&&g.$W(t,x.visualElement);this.player.K().L&&this.player.Os("endscreenelementshown",V)}};
g.q.onCueRangeExit=function(V){if(V.getId()==="ytp-ce-in-endscreen")this.J&&(g.NK(this.J,"ytp-ce-element-show"),this.J.setAttribute("aria-hidden","true"));else{V=V.getId().substring(15);var t=this.S[V];g.NK(t.element,"ytp-ce-element-show");t.element.setAttribute("aria-hidden","true");t=this.player.getRootNode();g.NK(t,"ytp-ce-shown");this.player.K().L&&this.player.Os("endscreenelementhidden",V)}};
g.q.wrw=function(V){var t=this;V.target===window&&(new g.qK(function(){for(var x=g.G(Object.values(t.S)),u=x.next();!u.done;u=x.next())g.pb(u.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.q.RC=function(V){for(var t=g.G(Object.values(this.S)),x=t.next();!x.done;x=t.next())x=x.value,V?x.element.setAttribute("hidden",""):x.element.removeAttribute("hidden")};
g.q.PIj=function(V){this.J&&this.player.getRootNode().removeChild(this.J);V&&(g.OU(V,"ytp-ce-hide-button-container"),this.J=V,g.aE(this.player,this.J,4))};
var nnE=[346,426,470,506,570,640,853,1280,1920],ccU="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),j2U=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],ycj=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var Q0E={Zck:"current",m3s:"new"};var rV$={CLOSE:"close",cKy:"openUrl",SUBSCRIBE:"subscribe"},TPi={fDs:"click",CLOSE:"close",d91:"hidden",nVk:"rollOut",eej:"rollOver",Ytk:"shown"};oVj.prototype.dL=function(){var V=nV7(this,function(t){return t.type==="openUrl"&&t.url!=null});
return V?V.url:null};
var THE={Tg6:"anchored",Kb:"branding",CHANNEL:"channel",Pb8:"cta",sOy:"highlightText",GH1:"label",PLAYLIST:"playlist",POPUP:"popup",uuU:"speech",SUBSCRIBE:"subscribe",dnw:"title",VIDEO:"video",fOw:"website"},rcj={Kb:"branding",eB1:"card",oSX:"drawer",KLX:"highlight",jMX:"marker",yKj:"promotion",TEXT:"text",pF6:"widget"};g.A(CH,g.c);g.q=CH.prototype;g.q.addCueRange=function(V,t,x,u,Z){V=new g.b4(V,t,{id:x,namespace:"annotations_module"});u&&this.xw.set(V,u);Z&&this.DS.set(V,Z);this.context.U.gL([V],1)};
g.q.KF=function(){this.context.S.subscribe("resize",this.Zn,this)};
g.q.m0=function(){return this.element};
g.q.C_=function(V,t,x,u,Z,P){if(this.QC)return!1;P&&(P.stopPropagation(),P.preventDefault());this.navigate(V,x,u,Z);return!1};
g.q.show=function(){};
g.q.hide=function(){};
g.q.destroy=function(){g.RZ(this.m0())};
g.q.Zn=function(){};
g.q.navigate=function(V,t,x,u){var Z=this,P=Hm(V);if(P){var K=DPE(P,V.target),R=function(){V.J&&Z.context.U.pauseVideo();var f=Z.context.videoData.kD||!1,b=g.i$(P||"");f&&b&&(b.v||b.list)?Z.context.U.vF(b.v,t,b.list,!1):g.w2(P||"",K==="current"?"_top":void 0,t)};
K==="new"&&(R(),R=null);Rs(this.context.logger,x,R,u);UPU(P)||(x=g.aw(),u=t.itct,x&&u&&g.kW(x,g.mn(u)))}};
g.q.NP=function(){this.xw.clear();this.DS.clear();g.c.prototype.NP.call(this)};
g.q.createElement=function(V){V=new g.e(V);g.y(this,V);return V.element};g.A(dPz,CH);g.q=dPz.prototype;g.q.HN=function(){this.wk&&t1(this,this.wk)};
g.q.isAvailable=function(){var V;if(V=!!this.cards.length)(V=this.U.getRootNode())?(V=g.ao(V),V=173<V.width&&173<V.height):V=!1;return V};
g.q.Zn=function(){var V=this.isAvailable();g.rJ(this.m0(),V);g.Am(this.context.U.getRootNode(),g.Ug.IV_DRAWER_ENABLED,V);X0(this.U)};
g.q.destroy=function(){this.U.jA(!1);try{this.U.getRootNode().removeChild(this.W)}catch(V){}g.O8(this.Ij);g.oV(this.L1);this.dk&&this.dk.dispose();this.G&&this.G.dispose();CH.prototype.destroy.call(this)};
g.q.cn=function(){var V=this;this.context.J.listen(g.JI("iv-drawer-close-button",this.W),"click",this.xq,this);this.context.J.listen(this.S,"touchend",function(){V.cX.start()});
this.context.J.listen(this.S,"scroll",this.m4,this);this.context.S.subscribe("onHideControls",function(){V.Es=!0});
this.context.S.subscribe("onShowControls",function(){V.Es=!1});
this.context.S.subscribe("onVideoAreaChange",function(){V.Es=g.i6(V.U.getRootNode(),"ytp-autohide")});
this.Ij.push(g.im("iv-button-shown",this.kU6,this));this.Ij.push(g.im("iv-button-hidden",this.XXX,this));xxn(this)};
g.q.findLastIndex=function(V){if(this.cards.length===0)return 0;var t=g.d7(this.cards,function(x){return V.D8.startMs>x.D8.startMs||V.D8.startMs===x.D8.startMs&&V.D8.timestamp>=x.D8.timestamp?!0:!1});
return t===-1?0:t+1};
g.q.xq=function(){if(this.N){Rs(this.context.logger,PA(this).Wi.close);var V=g.aw();V&&this.L&&g.kW(V,this.L);VB(this)}};
g.q.m4=function(){g.Am(this.W,"iv-drawer-scrolled",this.S.scrollTop>0)};
g.q.kU6=function(){var V=g.aw(),t=PA(this);t=t?t.Hr:this.Hr;V&&t&&g.bv(V,[t])};
g.q.XXX=function(){var V=g.aw(),t=PA(this);t=t?t.Hr:this.Hr;V&&t&&g.Ev(V,[t])};
g.q.Fn=function(){var V=PA(this);Rs(this.context.logger,V.Wi.Eo);var t=g.aw();if(t&&V)if(this.U.T("web_infocards_teaser_show_logging_fix")){var x=[];V.Hi&&x.push(V.Hi);V.Hr&&x.push(V.Hr);x.length>0&&g.bv(t,x)}else g.bv(t,[V.Hi,V.Hr])};
g.q.QjX=function(){var V=g.aw(),t=PA(this);V&&t&&g.Ev(V,[t.Hi])};
g.q.fX=function(V){var t=PA(this),x=g.aw();this.J?V?(V=this.context.logger,Rs(V,t.Wi.ex),V.U.sendVideoStatsEngageEvent(4,void 0),x&&t.Hi&&g.kW(x,t.Hi)):(V=this.context.logger,Rs(V,t.Wi.ex),V.U.sendVideoStatsEngageEvent(4,void 0),x&&t.Hr&&g.kW(x,t.Hr)):(V=this.context.logger,Rs(V,t.Wi.ex),V.U.sendVideoStatsEngageEvent(4,void 0),x&&this.Hr&&g.kW(x,this.Hr))};g.A(K$,CH);K$.prototype.KF=function(){CH.prototype.KF.call(this);fVs(this)};
K$.prototype.show=function(){CH.prototype.show.call(this);var V=g.aw(),t=this.annotation.data;V&&t&&(t=t.session_data)&&g.bv(V,[g.mn(t.itct)])};
K$.prototype.hide=function(){CH.prototype.hide.call(this);var V=g.aw(),t=this.annotation.data;V&&t&&(t=t.session_data)&&g.Ev(V,[g.mn(t.itct)])};g.A(qk,K$);
qk.prototype.show=function(){if(!this.isActive){K$.prototype.show.call(this);if(!this.L){g.OU(this.m0(),"iv-branding");var V=this.annotation.data;this.S=this.createElement({Y:"img",vX:["branding-img","iv-click-target"],j:{"aria-label":"Channel watermark",src:V.image_url,width:V.image_width,height:V.image_height}});g.rJ(this.S,!1);var t=this.createElement({Y:"button",vX:["branding-img-container","ytp-button"]});t.appendChild(this.S);this.m0().appendChild(t);var x=this.annotation.dL();x&&Jd(this,t,
x,this.annotation.id,V.session_data);this.context.U.T("disable_branding_context")||kTY(this,V);this.L=!0}g.rJ(this.m0(),!0);this.isActive=!0;if(this.S){try{$xF(this,this.S)}catch(u){}g.OU(this.context.U.getRootNode(),"ytp-branding-shown");this.context.U.getRootNode().style.setProperty("--branding-image-width",this.S.getAttribute("width")+"px")}}};
qk.prototype.hide=function(){this.isActive&&(K$.prototype.hide.call(this),g.rJ(this.m0(),!1),this.isActive=!1,g.NK(this.context.U.getRootNode(),"ytp-branding-shown"))};
qk.prototype.destroy=function(){this.J&&(this.J.dispose(),this.J=null);g.NK(this.context.U.getRootNode(),"ytp-branding-shown");K$.prototype.destroy.call(this)};g.A(O9n,K$);g.q=O9n.prototype;g.q.show=function(){this.isActive||(K$.prototype.show.call(this),this.X||(NHc(this),this.X=!0),g.rJ(this.m0(),!0),g.BM(function(){g.NK(this.m0(),"iv-promo-inactive")},100,this),this.m0().removeAttribute("aria-hidden"),this.isActive=!0,GTE(this),pQn(this),AcU(this,this.B))};
g.q.hide=function(){this.isActive&&(g.OU(this.m0(),"iv-promo-inactive"),this.isActive=!1,this.m0().setAttribute("aria-hidden","true"))};
g.q.C_=function(V,t,x,u,Z,P){return this.isCollapsed?!1:K$.prototype.C_.call(this,V,t,x,u,Z,P)};
g.q.qc=function(V){this.C=!0;s2$(this,500,V)};
g.q.Or=function(){this.C=!1;SoE(this)};
g.q.Db=function(V){V.stopPropagation();this.hide()};
g.q.jG=function(V){V.stopPropagation();GTE(this);this.isCollapsed=!0;g.OU(this.m0(),"iv-promo-collapsed-no-delay");this.G.start()};
g.q.destroy=function(){this.G.dispose();K$.prototype.destroy.call(this)};g.A(vns,g.m5);g.q=vns.prototype;g.q.qR=function(V,t){if(!on7(this.player.K().playerStyle))return null;switch(V){case "loadCustomAnnotationsXml":return(V=g.d0(t))&&XQz(this,V),!0;case "removeCustomAnnotationById":return t&&this.J&&(wxU(this.J,t),X0(this.player)),!0}return null};
g.q.getOptions=function(){return on7(this.player.K().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.q.oF=function(){var V=this.player.K(),t=this.player.getVideoData(),x=V.annotationsLoadPolicy||t.annotationsLoadPolicy;return g.th(t)||this.player.isMutedByEmbedsMutedAutoplay()?!1:x===1&&!t.vV||V.Es.get(t.videoId)||g.aK(t)||g.r3(t)?!0:!1};
g.q.yJ=function(){if(this.N){var V=this.player.XX().getVideoContentRect(!0);g.QC(this.N.element,V.width,V.height);g.zh(this.N.element,V.left,V.top)}if(this.J){var t=this.player.Gi();V=this.J;t=t.width;g.Am(V.W,"iv-drawer-small",t<=426);g.Am(V.W,"iv-drawer-big",t>=1280)}};
g.q.Ua=function(V){FLi(this,V.state);g.J(V.state,2)&&(this.mL()&&this.Kd()&&this.player.getPresentingPlayerType()!==2&&this.MD(!1),this.jA(!1))};
g.q.load=function(){function V(K){var R=t.loadNumber;t.G=null;t.loaded&&t.loadNumber===R&&t.player.getVideoData().videoId===u&&(K=g.LJ(K)&&K.responseXML?K.responseXML:null)&&(XQz(t,K),g.OU(t.player.getRootNode(),"iv-module-loaded"))}
var t=this;g.m5.prototype.load.call(this);FLi(this,this.player.getPlayerStateObject());this.loadNumber++;var x=this.player.getVideoData(),u=x.videoId;g.$e()&&(V=zcs(this,V));var Z={format:"XML",onFinish:V,onError:function(){t.G=null},
urlParams:{}};x.isPharma&&(Z.urlParams.pharma="1");Z.method="POST";Z.withCredentials=!0;var P=this.player.K().Es.get(u);P&&BHF(Z,P);P=P&&(P.mq||P.aQ);if(!x.K8||P)x.xw?MAs(this,x.xw,Z):(this.L=function(){if(!t.C)t.onVideoDataChange(Z);var K=t.player.getVideoData();(K==null?0:g.Qa(K))&&!t.Ij&&aVs(t,K)},this.player.addEventListener("videodatachange",this.L));
g.aE(this.player,this.N.element,4);this.yJ();(P=g.aK(x))&&Q2_(this,P);(P=g.r3(x))&&P.featuredChannel&&WL7(this,P.featuredChannel,P.annotationId||"branding",x.videoId||null,x.eventId||null);this.W0=g.JI("ytp-cards-button",this.player.getRootNode());g.Qa(x)&&aVs(this,x)};
g.q.onVideoDataChange=function(V){var t=this.player.getVideoData();t.xw&&MAs(this,t.xw,V)};
g.q.unload=function(){this.player.CR("annotations_module");for(var V=g.G(Object.keys(this.B)),t=V.next();!t.done;t=V.next())this.B[t.value].destroy();this.X=null;this.J&&(this.J.destroy(),this.J=null,X0(this.player));this.C=!1;this.G&&(this.G.abort(),this.G=null);this.Ij=!1;this.B={};this.S.hide();g.m5.prototype.unload.call(this);this.N.detach();this.L&&(this.player.removeEventListener("videodatachange",this.L),this.L=null)};
g.q.xP=function(V){V===this.player.getVideoData().videoId&&(this.loaded?mxn(this):this.load())};
g.q.mL=function(){var V;return((V=this.J)==null?void 0:V.isAvailable())||this.Ij};
g.q.Kd=function(){return!!this.J&&this.J.N};
g.q.MD=function(V,t,x){t=t===void 0?!1:t;this.mL();this.J&&(V?x?wA(this.J,x,t):wA(this.J,"YOUTUBE_DRAWER_AUTO_OPEN",t):VB(this.J))};
g.q.jA=function(V,t){this.player.publish(V?"cardsteasershow":"cardsteaserhide",t)};
g.q.NP=function(){this.player.K().Es.unsubscribe("vast_info_card_add",this.xP,this);g.NK(this.player.getRootNode(),g.Ug.IV_DRAWER_OPEN);for(var V=this.wk,t=g.w9,x=0,u=V.length;x<u;x++)t.zl(V[x]);this.wk.length=0;g.m5.prototype.NP.call(this)};
g.q.createElement=function(V){V=new g.e(V);g.y(this,V);return V.element};g.BW("annotations_module",vns);g.BW("creatorendscreen",pxt);})(_yt_player);
