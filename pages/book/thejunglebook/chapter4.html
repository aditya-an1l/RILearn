<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>chapter4</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Nunito:wght@400;700&family=Open+Sans:wght@400;700&family=Playfair+Display:wght@400;700&family=Roboto:wght@400;700&family=Lora:wght@400;700&family=Merriweather:wght@400;700&family=Source+Serif+Pro:wght@400;700&family=Crimson+Text:wght@400;700&family=PT+Serif:wght@400;700&family=Libre+Baskerville:wght@400;700&family=Montserrat:wght@400;700&family=Lato:wght@400;700&family=Source+Sans+Pro:wght@400;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css"   />
  <link rel="stylesheet" href="toggle.css"   />

  <link rel="stylesheet" href="annotation_highlight.css" />
</head>

<body>

  <!-- Dark Mode Toggle -->
  <input type="checkbox" id="theme-toggle">
  <label for="theme-toggle" class="toggle"></label>



  <div id="topControls">
    <button id="fontStylesToggle">Font Styles</button>
    <div id="fontStylesDropdown">
      <h3 style="padding: 10px; margin: 0; border-bottom: 1px solid #e0e0e0;">Serif Fonts</h3>

      <button data-font="Georgia Custom">Georgia </button>
      <button data-font="Elegant Serif">Elegant Serif</button>
      <button data-font="Classic Lora">Classic Lora</button>
      <button data-font="Merriweather Serif">Merriweather Serif</button>
      <button data-font="Source Serif Pro">Source Serif Pro</button>
      <button data-font="Crimson Text">Crimson Text</button>
      <button data-font="PT Serif">PT Serif</button>
      <button data-font="Libre Baskerville">Libre Baskerville</button>

      <h3 style="padding: 10px; margin: 0; border-bottom: 1px solid #e0e0e0; border-top: 1px solid #e0e0e0;">Sans-Serif
        Fonts</h3>
      <button data-font="Modern Sans">Modern Sans</button>
      <button data-font="Friendly Round">Friendly Round</button>
      <button data-font="Clean Design">Clean Design</button>
      <button data-font="Modern Montserrat">Modern Montserrat</button>
      <button data-font="Lato Sans">Lato Sans</button>
      <button data-font="Source Sans Pro">Source Sans Pro</button>

      <h3 style="padding: 10px; margin: 0; border-bottom: 1px solid #e0e0e0; border-top: 1px solid #e0e0e0;">Special
        Fonts</h3>
      <button data-font="Technical Mono">Technical Mono</button>
      <button data-font="Handwritten Casual">Handwritten Casual</button>
    </div>
    <button id="speakToggle">Speak</button>
  </div>


  <div class="speech-functionality container">

    <div id="liveSettings">
      <h3>Adjust Speech Settings</h3>
      <label>Speed:
        <input type="range" id="rate" min="0.5" max="2" value="1" step="0.1">
        <span id="rateValue">1</span>
      </label>
      <label>Pitch:
        <input type="range" id="pitch" min="0.5" max="2" value="1" step="0.1">
        <span id="pitchValue">1</span>
      </label>
    </div>

    <div id="speechControls">
      <button id="pauseButton">Pause</button>
      <button id="resumeButton">Resume</button>
      <button id="stopButton">Stop</button>
      <button id="restartButton">Restart</button>
    </div>

    <div class="status" id="statusMessage"></div>

    <div id="settingsModal">
      <div class="modal-content">
        <h2>Select Voice Settings</h2>
        <label>Speed:
          <input type="range" id="initialRate" min="0.5" max="2" value="1" step="0.1">
          <span id="initialRateValue">1</span>
        </label>
        <label>Pitch:
          <input type="range" id="initialPitch" min="0.5" max="2" value="1" step="0.1">
          <span id="initialPitchValue">1</span>
        </label>
        <p>You can adjust these settings while the speech is playing too.</p>
        <div style="text-align: center; margin-top: 20px;">
          <button id="confirmSettings">Start Speaking</button>
        </div>
      </div>
    </div>
  </div>


  <div id="textContainer">
    <h1 align="center">
      <p>Road-Song of the Bandar-Log</p>
    </h1>
<p >
Here we go in a flung festoon,<br>
Half-way up to the jealous moon!<br>
Don’t you envy our pranceful bands?<br>
Don’t you wish you had extra hands?<br>
Wouldn’t you like if your tails were—so—<br>
Curved in the shape of a Cupid’s bow?<br>
    Now you’re angry, but—never mind,<br>
    <i>Brother, thy tail hangs down behind!</i><br>
<br>
Here we sit in a branchy row,<br>
Thinking of beautiful things we know;<br>
Dreaming of deeds that we mean to do,<br>
All complete, in a minute or two—<br>
Something noble and wise and good,<br>
Done by merely wishing we could.<br>
    We’ve forgotten, but—never mind,<br>
    <i>Brother, thy tail hangs down behind!</i><br>
<br>
All the talk we ever have heard<br>
Uttered by bat or beast or bird—<br>
Hide or fin or scale or feather—<br>
Jabber it quickly and all together!<br>
Excellent!  Wonderful!  Once again!<br>
<br>
Now we are talking just like men!<br>
    Let’s pretend we are ... never mind,<br>
    <i>Brother, thy tail hangs down behind!</i><br>
    This is the way of the Monkey-kind.<br>
<br>
<i>Then join our leaping lines that scumfish through the pines,<br>
That rocket by where, light and high, the wild grape swings.<br>
By the rubbish in our wake, and the noble noise we make,<br>
Be sure, be sure, we’re going to do some splendid things!</i>
</p>
<div >
<img alt="image" src="Screenshot 2025-07-05 155406.png" >
</div>
     </div>



  <div class="navigation">
    <a href="chapter3.html" class="nav-button prev">← Previous Chapter</a>
    <a href="chapter5.html" class="nav-button next">Next Chapter →</a>
  </div>

  <!-- Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- End Message Animation -->
  <div class="end-message" id="endMessage">
    🎉 Chapter Finished! Great Job 🎉
  </div>

  <script>
    window.onscroll = function () {
      updateProgressBar();
      checkEndOfPage();
    };

    function updateProgressBar() {
      let scrollTop =
        document.documentElement.scrollTop || document.body.scrollTop;
      let scrollHeight =
        document.documentElement.scrollHeight -
        document.documentElement.clientHeight;
      let scrollPercent = (scrollTop / scrollHeight) * 100;
      document.getElementById("progressBar").style.width =
        scrollPercent + "%";
    }

    function checkEndOfPage() {
      let scrollTop =
        document.documentElement.scrollTop || document.body.scrollTop;
      let scrollHeight =
        document.documentElement.scrollHeight -
        document.documentElement.clientHeight;

      if (scrollTop >= scrollHeight - 10) {
        // When user reaches the bottom
        document.getElementById("endMessage").classList.add("show");
      } else {
        document.getElementById("endMessage").classList.remove("show");
      }
    }
  </script>

  <!-- Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- End Message Animation -->
  <div class="end-message" id="endMessage">
    🎉 Chapter Finished! Great Job 🎉
  </div>
  <script src="visual_element.js"></script>
  <script src="progress.js"></script>
  <script src="toggle_script.js"></script>

</body>

</html>